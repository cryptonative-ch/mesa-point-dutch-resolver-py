------------------------------------------------------------
##        calculate  calcClearingPrice             
------------------------------------------------------------
tokenOutAmount: 769.230769230769231 $MESA (1000 $DAI for 1.3 $DAI per $MESA)
tokenOutAmountToDistribute: 49230.7692307692308 $MESA (Token left)
---------------
tokenOutAmount: 1.250E+4 $MESA (15000 $DAI for 1.2 $DAI per $MESA)
tokenOutAmountToDistribute: 36730.7692307692308 $MESA (Token left)
---------------
tokenOutAmount: 833.333333333333334 $MESA (1000 $DAI for 1.2 $DAI per $MESA)
tokenOutAmountToDistribute: 35897.4358974358975 $MESA (Token left)
---------------
tokenOutAmount: 869.565217391304348 $MESA (1000 $DAI for 1.15 $DAI per $MESA)
tokenOutAmountToDistribute: 35027.8706800445932 $MESA (Token left)
---------------
tokenOutAmount: 909.090909090909091 $MESA (1000 $DAI for 1.1 $DAI per $MESA)
tokenOutAmountToDistribute: 34118.7797709536842 $MESA (Token left)
---------------
tokenOutAmount: 9523.80952380952381 $MESA (10000 $DAI for 1.05 $DAI per $MESA)
tokenOutAmountToDistribute: 24594.9702471441604 $MESA (Token left)
---------------
tokenOutAmount: 952.380952380952381 $MESA (1000 $DAI for 1.05 $DAI per $MESA)
tokenOutAmountToDistribute: 23642.5892947632081 $MESA (Token left)
---------------
tokenOutAmount: 5263.15789473684211 $MESA (5000 $DAI for 0.95 $DAI per $MESA)
tokenOutAmountToDistribute: 18379.4314000263660 $MESA (Token left)
---------------
tokenOutAmount: 549.450549450549451 $MESA (500 $DAI for 0.91 $DAI per $MESA)
tokenOutAmountToDistribute: 17829.9808505758166 $MESA (Token left)
---------------
tokenOutAmount: 11764.7058823529412 $MESA (10000 $DAI for 0.85 $DAI per $MESA)
tokenOutAmountToDistribute: 6065.2749682228754 $MESA (Token left)
---------------
tokenOutAmount: 2597.40259740259741 $MESA (2000 $DAI for 0.77 $DAI per $MESA)
tokenOutAmountToDistribute: 3467.87237082027799 $MESA (Token left)
---------------
tokenOutAmount: 2614.37908496732027 $MESA (2000 $DAI for 0.765 $DAI per $MESA)
tokenOutAmountToDistribute: 853.49328585295772 $MESA (Token left)
---------------
tokenOutAmount: 2631.57894736842106 $MESA (2000 $DAI for 0.76 $DAI per $MESA)
tokenOutAmountToDistribute: -1778.08566151546334 $MESA (Token left)
---------------
Token left: 853.49328585295772 
ClearingPrice: 0.76 $DAI per $MESA 
------------------------------------------------------------
##          tokenDistribution                   
------------------------------------------------------------
clearingPrice: 0.76
------------------------------------------------------------

Bid ID 12
tokenOutAmount: 769.230769230769231 $MESA worth 584.615384615384616 $DAI
415.384615384615384 $DAI not invested from 1000 $DAI, bid price 1.3

Bid ID 0
tokenOutAmount: 1.250E+4 $MESA worth 9500.0 $DAI
5500.0 $DAI not invested from 15000 $DAI, bid price 1.2

Bid ID 13
tokenOutAmount: 833.333333333333334 $MESA worth 633.333333333333334 $DAI
366.666666666666666 $DAI not invested from 1000 $DAI, bid price 1.2

Bid ID 17
tokenOutAmount: 869.565217391304348 $MESA worth 660.869565217391305 $DAI
339.130434782608695 $DAI not invested from 1000 $DAI, bid price 1.15

Bid ID 18
tokenOutAmount: 909.090909090909091 $MESA worth 690.909090909090910 $DAI
309.090909090909090 $DAI not invested from 1000 $DAI, bid price 1.1

Bid ID 1
tokenOutAmount: 9523.80952380952381 $MESA worth 7238.09523809523810 $DAI
2761.90476190476190 $DAI not invested from 10000 $DAI, bid price 1.05

Bid ID 19
tokenOutAmount: 952.380952380952381 $MESA worth 723.809523809523810 $DAI
276.190476190476190 $DAI not invested from 1000 $DAI, bid price 1.05

Bid ID 2
tokenOutAmount: 5263.15789473684211 $MESA worth 4000.00000000000001 $DAI
999.99999999999999 $DAI not invested from 5000 $DAI, bid price 0.95

Bid ID 11
tokenOutAmount: 549.450549450549451 $MESA worth 417.582417582417583 $DAI
82.417582417582417 $DAI not invested from 500 $DAI, bid price 0.91

Bid ID 3
tokenOutAmount: 11764.7058823529412 $MESA worth 8941.17647058823532 $DAI
1058.82352941176468 $DAI not invested from 10000 $DAI, bid price 0.85

Bid ID 6
tokenOutAmount: 2597.40259740259741 $MESA worth 1974.02597402597404 $DAI
25.97402597402596 $DAI not invested from 2000 $DAI, bid price 0.77

Bid ID 7
tokenOutAmount: 2614.37908496732027 $MESA worth 1986.92810457516341 $DAI
13.07189542483659 $DAI not invested from 2000 $DAI, bid price 0.765

Bid ID 8
tokenOutAmount: 853.49328585295772 $MESA worth 648.654897248247868 $DAI
1351.34510275175214 $DAI not invested from 2000 $DAI, bid price 0.76

Bid ID 9
No token for bid price 0.755

Bid ID 4
No token for bid price 0.75

Bid ID 10
No token for bid price 0.75

Bid ID 14
No token for bid price 0.7

Bid ID 5
No token for bid price 0.65

Bid ID 15
No token for bid price 0.6

Bid ID 16
No token for bid price 0.5

Bid ID 21
No token for bid price 0.5

Bid ID 20
No token for bid price 0.2
------------------------------------------------------------
##       Success - all token distributed
------------------------------------------------------------
Token Left: 0.00000000000000 $MESA
------------------------------------------------------------
##          tokenDistribution                   
------------------------------------------------------------
clearingPrice: 0.76
------------------------------------------------------------

Bid ID 0
tokenOutAmount: 1.250E+4 $MESA worth 9500.0 $DAI
5500.0 $DAI not invested from 15000 $DAI, bid price 1.2

Bid ID 1
tokenOutAmount: 9523.80952380952381 $MESA worth 7238.09523809523810 $DAI
2761.90476190476190 $DAI not invested from 10000 $DAI, bid price 1.05

Bid ID 2
tokenOutAmount: 5263.15789473684211 $MESA worth 4000.00000000000001 $DAI
999.99999999999999 $DAI not invested from 5000 $DAI, bid price 0.95

Bid ID 3
tokenOutAmount: 11764.7058823529412 $MESA worth 8941.17647058823532 $DAI
1058.82352941176468 $DAI not invested from 10000 $DAI, bid price 0.85

Bid ID 4
No token for bid price 0.75

Bid ID 5
No token for bid price 0.65

Bid ID 6
tokenOutAmount: 2597.40259740259741 $MESA worth 1974.02597402597404 $DAI
25.97402597402596 $DAI not invested from 2000 $DAI, bid price 0.77

Bid ID 7
tokenOutAmount: 2614.37908496732027 $MESA worth 1986.92810457516341 $DAI
13.07189542483659 $DAI not invested from 2000 $DAI, bid price 0.765

Bid ID 8
tokenOutAmount: 853.49328585295772 $MESA worth 648.654897248247868 $DAI
1351.34510275175214 $DAI not invested from 2000 $DAI, bid price 0.76

Bid ID 9
No token for bid price 0.755

Bid ID 10
No token for bid price 0.75

Bid ID 11
tokenOutAmount: 549.450549450549451 $MESA worth 417.582417582417583 $DAI
82.417582417582417 $DAI not invested from 500 $DAI, bid price 0.91

Bid ID 12
tokenOutAmount: 769.230769230769231 $MESA worth 584.615384615384616 $DAI
415.384615384615384 $DAI not invested from 1000 $DAI, bid price 1.3

Bid ID 13
tokenOutAmount: 833.333333333333334 $MESA worth 633.333333333333334 $DAI
366.666666666666666 $DAI not invested from 1000 $DAI, bid price 1.2

Bid ID 14
No token for bid price 0.7

Bid ID 15
No token for bid price 0.6

Bid ID 16
No token for bid price 0.5

Bid ID 17
tokenOutAmount: 869.565217391304348 $MESA worth 660.869565217391305 $DAI
339.130434782608695 $DAI not invested from 1000 $DAI, bid price 1.15

Bid ID 18
tokenOutAmount: 909.090909090909091 $MESA worth 690.909090909090910 $DAI
309.090909090909090 $DAI not invested from 1000 $DAI, bid price 1.1

Bid ID 19
tokenOutAmount: 952.380952380952381 $MESA worth 723.809523809523810 $DAI
276.190476190476190 $DAI not invested from 1000 $DAI, bid price 1.05

Bid ID 20
No token for bid price 0.2

Bid ID 21
No token for bid price 0.5
------------------------------------------------------------
##       Success - all token distributed
------------------------------------------------------------
Token Left: -0.000000000000322 $MESA
------------------------------------------------------------
#          test with a wrong settlement price  0.77      
------------------------------------------------------------
------------------------------------------------------------
##          tokenDistribution                   
------------------------------------------------------------
clearingPrice: 0.770000000000000017763568394002504646778106689453125
------------------------------------------------------------

Bid ID 12
tokenOutAmount: 769.230769230769231 $MESA worth 592.307692307692322 $DAI
407.692307692307678 $DAI not invested from 1000 $DAI, bid price 1.3

Bid ID 0
tokenOutAmount: 1.250E+4 $MESA worth 9625.00000000000023 $DAI
5374.99999999999977 $DAI not invested from 15000 $DAI, bid price 1.2

Bid ID 13
tokenOutAmount: 833.333333333333334 $MESA worth 641.666666666666682 $DAI
358.333333333333318 $DAI not invested from 1000 $DAI, bid price 1.2

Bid ID 17
tokenOutAmount: 869.565217391304348 $MESA worth 669.565217391304364 $DAI
330.434782608695636 $DAI not invested from 1000 $DAI, bid price 1.15

Bid ID 18
tokenOutAmount: 909.090909090909091 $MESA worth 700.000000000000017 $DAI
299.999999999999983 $DAI not invested from 1000 $DAI, bid price 1.1

Bid ID 1
tokenOutAmount: 9523.80952380952381 $MESA worth 7333.33333333333351 $DAI
2666.66666666666649 $DAI not invested from 10000 $DAI, bid price 1.05

Bid ID 19
tokenOutAmount: 952.380952380952381 $MESA worth 733.333333333333351 $DAI
266.666666666666649 $DAI not invested from 1000 $DAI, bid price 1.05

Bid ID 2
tokenOutAmount: 5263.15789473684211 $MESA worth 4052.63157894736852 $DAI
947.36842105263148 $DAI not invested from 5000 $DAI, bid price 0.95

Bid ID 11
tokenOutAmount: 549.450549450549451 $MESA worth 423.076923076923088 $DAI
76.923076923076912 $DAI not invested from 500 $DAI, bid price 0.91

Bid ID 3
tokenOutAmount: 11764.7058823529412 $MESA worth 9058.82352941176494 $DAI
941.17647058823506 $DAI not invested from 10000 $DAI, bid price 0.85

Bid ID 6
No token for bid price 0.77

Bid ID 7
No token for bid price 0.765

Bid ID 8
No token for bid price 0.76

Bid ID 9
No token for bid price 0.755

Bid ID 4
No token for bid price 0.75

Bid ID 10
No token for bid price 0.75

Bid ID 14
No token for bid price 0.7

Bid ID 5
No token for bid price 0.65

Bid ID 15
No token for bid price 0.6

Bid ID 16
No token for bid price 0.5

Bid ID 21
No token for bid price 0.5

Bid ID 20
No token for bid price 0.2
------------------------------------------------------------------------
##       Fail! Not all token distributed! Settlement price is too high.
------------------------------------------------------------------------
Token Left: 6065.2749682228754 $MESA
------------------------------------------------------------
#          test with a wrong settlement price  0.75      
------------------------------------------------------------
------------------------------------------------------------
##          tokenDistribution                   
------------------------------------------------------------
clearingPrice: 0.75
------------------------------------------------------------

Bid ID 12
tokenOutAmount: 769.230769230769231 $MESA worth 576.923076923076924 $DAI
423.076923076923076 $DAI not invested from 1000 $DAI, bid price 1.3

Bid ID 0
tokenOutAmount: 1.250E+4 $MESA worth 9375.0 $DAI
5625.0 $DAI not invested from 15000 $DAI, bid price 1.2

Bid ID 13
tokenOutAmount: 833.333333333333334 $MESA worth 625.000000000000001 $DAI
374.999999999999999 $DAI not invested from 1000 $DAI, bid price 1.2

Bid ID 17
tokenOutAmount: 869.565217391304348 $MESA worth 652.173913043478261 $DAI
347.826086956521739 $DAI not invested from 1000 $DAI, bid price 1.15

Bid ID 18
tokenOutAmount: 909.090909090909091 $MESA worth 681.818181818181819 $DAI
318.181818181818181 $DAI not invested from 1000 $DAI, bid price 1.1

Bid ID 1
tokenOutAmount: 9523.80952380952381 $MESA worth 7142.85714285714286 $DAI
2857.14285714285714 $DAI not invested from 10000 $DAI, bid price 1.05

Bid ID 19
tokenOutAmount: 952.380952380952381 $MESA worth 714.285714285714286 $DAI
285.714285714285714 $DAI not invested from 1000 $DAI, bid price 1.05

Bid ID 2
tokenOutAmount: 5263.15789473684211 $MESA worth 3947.36842105263159 $DAI
1052.63157894736841 $DAI not invested from 5000 $DAI, bid price 0.95

Bid ID 11
tokenOutAmount: 549.450549450549451 $MESA worth 412.087912087912089 $DAI
87.912087912087911 $DAI not invested from 500 $DAI, bid price 0.91

Bid ID 3
tokenOutAmount: 11764.7058823529412 $MESA worth 8823.52941176470590 $DAI
1176.47058823529410 $DAI not invested from 10000 $DAI, bid price 0.85

Bid ID 6
tokenOutAmount: 2597.40259740259741 $MESA worth 1948.05194805194806 $DAI
51.94805194805194 $DAI not invested from 2000 $DAI, bid price 0.77

Bid ID 7
tokenOutAmount: 2614.37908496732027 $MESA worth 1960.78431372549021 $DAI
39.21568627450979 $DAI not invested from 2000 $DAI, bid price 0.765

Bid ID 8
tokenOutAmount: 853.49328585295772 $MESA worth 640.119964389718290 $DAI
1359.88003561028171 $DAI not invested from 2000 $DAI, bid price 0.76

Bid ID 9
tokenOutAmount: 2649.00662251655630 $MESA worth 1986.75496688741723 $DAI
13.24503311258277 $DAI not invested from 2000 $DAI, bid price 0.755

Bid ID 4
tokenOutAmount: 13333.3333333333334 $MESA worth 10000.0000000000001 $DAI
-1E-13 $DAI not invested from 10000 $DAI, bid price 0.75

Bid ID 10
tokenOutAmount: 2666.66666666666667 $MESA worth 2000.00000000000001 $DAI
-1E-14 $DAI not invested from 2000 $DAI, bid price 0.75

Bid ID 14
No token for bid price 0.7

Bid ID 5
No token for bid price 0.65

Bid ID 15
No token for bid price 0.6

Bid ID 16
No token for bid price 0.5

Bid ID 21
No token for bid price 0.5

Bid ID 20
No token for bid price 0.2
------------------------------------------------------------------------
##       Fail! To many token distributed! Settlement price is too low.
------------------------------------------------------------------------
Token Left: -18649.0066225165564 $MESA
0.76
853.49328585295772
